const fs=require("fs"),del=require("del"),gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify");gulp.task("clean",async()=>{del(["*.min.js","!three.min.js"])}),gulp.task("scripts",async()=>{const s=fs.readdirSync("src");s.forEach(s=>(s=s.split(".")[0],gulp.src([`src/${s}.js`,"lib/*.js"]).pipe(concat(s+".min.js")).pipe(uglify()).pipe(gulp.dest("./"))))}),gulp.task("default",gulp.series("clean","scripts"));